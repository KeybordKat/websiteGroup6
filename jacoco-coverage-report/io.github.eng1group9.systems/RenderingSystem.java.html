<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RenderingSystem.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">core</a> &gt; <a href="index.source.html" class="el_package">io.github.eng1group9.systems</a> &gt; <span class="el_source">RenderingSystem.java</span></div><h1>RenderingSystem.java</h1><pre class="source lang-java linenums">package io.github.eng1group9.systems;

import java.util.List;

import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.OrthographicCamera;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.GlyphLayout;
import com.badlogic.gdx.graphics.g2d.NinePatch;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureRegion;
import com.badlogic.gdx.maps.tiled.TiledMap;
import com.badlogic.gdx.maps.tiled.TmxMapLoader;
import com.badlogic.gdx.maps.tiled.renderers.OrthogonalTiledMapRenderer;
import com.badlogic.gdx.math.Rectangle;
import com.badlogic.gdx.utils.Align;
import com.badlogic.gdx.utils.ScreenUtils;
import com.badlogic.gdx.utils.viewport.FitViewport;

import io.github.eng1group9.entities.Dean;
import io.github.eng1group9.entities.Player;
import io.github.eng1group9.systems.ToastSystem.Toast;
import io.github.eng1group9.systems.TriggerSystem.Trigger;


/**
 * Handles drawing and displaying frames.
 */
<span class="fc" id="L30">public class RenderingSystem {</span>
    private Texture missingTexture;
    private SpriteBatch worldBatch;
    private SpriteBatch uiBatch;
    private BitmapFont font;
    private OrthographicCamera camera;
    private FitViewport viewport;
    private OrthogonalTiledMapRenderer mapRenderer;
    private static TiledMap map;
    private TimerSystem timerSystem;
    private ToastSystem toastSystem;

    private NinePatch speechBubblePatch;
<span class="fc" id="L43">    private final GlyphLayout glyphLayout = new GlyphLayout();</span>

    public static RenderingSystem instance;

    /**
     * Takes and tileset and sets up a renderer to display it.
     * @param tmxPath - The path to the tileset (.tmx file).
     * @param viewportWidth - how many pixels wide the world is.
     * @param viewportHeight - how many pixels high the world is.
     */
    public void initWorld(String tmxPath, int viewportWidth, int viewportHeight, TimerSystem timerSystem) {
<span class="nc" id="L54">        this.timerSystem = timerSystem;</span>
<span class="nc" id="L55">        this.camera = new OrthographicCamera();</span>
<span class="nc" id="L56">        this.camera.setToOrtho(false, viewportWidth, viewportHeight);</span>
<span class="nc" id="L57">        this.camera.update();</span>
<span class="nc" id="L58">        this.viewport = new FitViewport(viewportWidth, viewportHeight, camera);</span>
<span class="nc" id="L59">        map = new TmxMapLoader().load(tmxPath);</span>
<span class="nc" id="L60">        this.mapRenderer = new OrthogonalTiledMapRenderer(map);</span>
<span class="nc" id="L61">        this.missingTexture = new Texture(&quot;missingTexture.png&quot;);</span>
<span class="nc" id="L62">        this.worldBatch = new SpriteBatch();</span>
<span class="nc" id="L63">        this.uiBatch = new SpriteBatch();</span>
<span class="nc" id="L64">        this.font = new BitmapFont();</span>
<span class="nc" id="L65">        setToastSystem(toastSystem);</span>
<span class="nc" id="L66">        Texture bubbleTex = new Texture(&quot;ninepatch_bubble.9.png&quot;); </span>
<span class="nc" id="L67">        TextureRegion bubbleRegion = new TextureRegion(bubbleTex);</span>
<span class="nc" id="L68">        speechBubblePatch = new NinePatch(bubbleRegion, 8, 8, 8, 8);</span>
<span class="nc" id="L69">    }</span>

<span class="nc" id="L71">    public OrthogonalTiledMapRenderer getMapRenderer() { return mapRenderer; }</span>

    /**
     * Hide a layer so that tiles on it are NOT rendered.
     * @param name - The name of the layer.
     */
    public static void hideLayer(String name) {
<span class="nc" id="L78">        map.getLayers().get(name).setVisible(false);</span>
<span class="nc" id="L79">    }</span>

    /**
     * Show a layer so that tiles on it are rendered.
     * @param name - The name of the layer.
     */
    public static void showLayer(String name) {
<span class="nc" id="L86">        map.getLayers().get(name).setVisible(true);</span>
<span class="nc" id="L87">    }</span>

    /**
     * Draw a frame to display.
     * @param player - The current player object.
     * @param dean - The dean object.
     * @param showCollision - Wether to render the zones for collision / triggers (dev mode).
     * @param elapsedTime - How much time has passed since the game began.
     * @param worldCollision - A list of rectangles representing the games collison.
     */
    public void draw(Player player, Dean dean, boolean showCollision, float elapsedTime, List&lt;Rectangle&gt; worldCollision) {
<span class="nc" id="L98">        ScreenUtils.clear(Color.BLACK);</span>
<span class="nc" id="L99">        viewport.apply();</span>

<span class="nc" id="L101">        camera.update();</span>
<span class="nc" id="L102">        mapRenderer.setView(camera);</span>
<span class="nc" id="L103">        int[] belowPlayer = {0, 1, 2, 3, 4, 5, 6, 19, 20, 21, 23, 24, 26}; // the layers which should appear below the player</span>
<span class="nc" id="L104">        mapRenderer.render(belowPlayer);</span>

<span class="nc" id="L106">        worldBatch.begin();</span>
<span class="nc" id="L107">        player.draw(worldBatch);</span>
<span class="nc" id="L108">        dean.draw(worldBatch);</span>
<span class="nc" id="L109">        worldBatch.end();</span>

<span class="nc" id="L111">        int[] abovePlayer = {7, 8, 9, 10, 11, 12, 13, 14, 15, 22, 25, 27, 28}; // the layers which should appear above the player</span>
<span class="nc" id="L112">        mapRenderer.render(abovePlayer);</span>
<span class="nc" id="L113">        uiBatch.begin();</span>
<span class="nc" id="L114">        font.draw(uiBatch, timerSystem.getClockDisplay(), 10, 640 - 10);</span>

<span class="nc" id="L116">        renderToasts(font, uiBatch);</span>

<span class="nc bnc" id="L118" title="All 4 branches missed.">        if (showCollision &amp;&amp; worldCollision != null) { // show collisions for debugging</span>
<span class="nc" id="L119">            renderCollision(uiBatch, worldCollision, player, dean);</span>
<span class="nc" id="L120">            renderTriggers(uiBatch);</span>
        }
<span class="nc" id="L122">        uiBatch.end();</span>
<span class="nc" id="L123">    }</span>

    /**
     * Render the toast display on the top left of the screen.
     * This is used to display text messages to the user for 5s.
     * @param font The BitmapFont which used to render the text.
     * @param uiBatch - The SpriteBatch used for this (should be the ui batch).
     */
    public void renderToasts(BitmapFont font, SpriteBatch uiBatch) {
<span class="nc" id="L132">        toastSystem.clearExpiredToasts();</span>
<span class="nc" id="L133">        List&lt;Toast&gt; toasts = toastSystem.getToasts();</span>
<span class="nc" id="L134">        int offset = 0;</span>

<span class="nc bnc" id="L136" title="All 2 branches missed.">        for (Toast t : toasts) {</span>
<span class="nc" id="L137">            offset += 30;</span>

<span class="nc bnc" id="L139" title="All 2 branches missed.">            if (t.bubble) {</span>
<span class="nc" id="L140">                drawSpeechBubbleToast(uiBatch, font, t, t.getX(), t.getY());</span>
            }
            else {
<span class="nc" id="L143">                font.setColor(t.getColour());</span>
<span class="nc" id="L144">                font.draw(uiBatch, t.getText(), 10, (640 - 10) - offset);</span>
            }
<span class="nc" id="L146">        }</span>
<span class="nc" id="L147">        font.setColor(1, 1, 1, 1);</span>
<span class="nc" id="L148">    }</span>

    /**
     * draws a toast message within a speech bubble
     * automatically formats and positions the bubble
     * @param batch ui spritebatch
     * @param font bitmap font
     * @param toast toast object containing the text and relevant formatting details
     * @param x bubbles origin x coord
     * @param y bubbles origin y coord
     */
    private void drawSpeechBubbleToast(SpriteBatch batch, BitmapFont font, Toast toast, float x, float y) {
<span class="nc" id="L160">        String str = toast.getText();</span>
<span class="nc" id="L161">        int wrapWidth = toast.getBubbleWidth();</span>
<span class="nc" id="L162">        int pad = toast.getPadding();</span>
<span class="nc" id="L163">        font.getData().setScale(0.8f);</span>

<span class="nc" id="L165">        glyphLayout.setText(font,str,toast.getColour(),wrapWidth,Align.left,true);</span>

<span class="nc" id="L167">        float bubbleW = glyphLayout.width + pad * 2f +50f;</span>
<span class="nc" id="L168">        float bubbleH = glyphLayout.height + pad * 2f +30f;</span>

<span class="nc" id="L170">        float bubbleX = x - pad;</span>
<span class="nc" id="L171">        float bubbleY = (y - glyphLayout.height) - pad - 30f;</span>

<span class="nc" id="L173">        batch.setColor(1, 1, 1, 0.8f); </span>
<span class="nc" id="L174">        speechBubblePatch.draw(batch, bubbleX, bubbleY, bubbleW, bubbleH);</span>

<span class="nc" id="L176">        font.setColor(toast.getColour());</span>
<span class="nc" id="L177">        font.draw(batch, glyphLayout, x, y);</span>
<span class="nc" id="L178">        font.getData().setScale(1f);</span>
<span class="nc" id="L179">    }</span>

    /**
     * Render the zones for collision / triggers (dev mode).
     * @param uiBatch - The SpriteBatch used for this (should be the ui batch).
     * @param worldCollision - A list of rectangles representing the games collison.
     * @param player
     * @param dean
     */
    public void renderCollision(SpriteBatch uiBatch, List&lt;Rectangle&gt; worldCollision, Player player, Dean dean) {
<span class="nc bnc" id="L189" title="All 2 branches missed.">        for (Rectangle rectangle : worldCollision) {</span>
<span class="nc" id="L190">            uiBatch.setColor(1, 0, 0, 0.75f);</span>
<span class="nc" id="L191">            uiBatch.draw(missingTexture, rectangle.x, rectangle.y , rectangle.width, rectangle.height);</span>
<span class="nc" id="L192">        }</span>
<span class="nc" id="L193">        uiBatch.draw(missingTexture, player.getHitbox().x + 16, player.getHitbox().y+ 16, player.getHitbox().width, player.getHitbox().height);</span>
<span class="nc" id="L194">        uiBatch.draw(missingTexture, dean.getReachRectangle().x + 16, dean.getReachRectangle().y+ 16, dean.getReachRectangle().width, dean.getReachRectangle().height);</span>
<span class="nc" id="L195">    }</span>

    /**
     * Render the zones for triggers (dev mode).
     * @param uiBatch - The SpriteBatch used for this (should be the ui batch).
     */
    public void renderTriggers(SpriteBatch uiBatch) {
<span class="nc bnc" id="L202" title="All 2 branches missed.">        for (Trigger t : TriggerSystem.getTriggers()) {</span>
<span class="nc" id="L203">            Rectangle rectangle = t.getZone();</span>
<span class="nc" id="L204">            uiBatch.setColor(0, 1, 1, 0.75f);</span>
<span class="nc" id="L205">            uiBatch.draw(missingTexture, rectangle.x, rectangle.y , rectangle.width, rectangle.height);</span>
<span class="nc" id="L206">        }</span>
<span class="nc" id="L207">    }</span>

    public void resize(int width, int height) {
<span class="nc" id="L210">        viewport.update(width, height);</span>
<span class="nc" id="L211">    }</span>

    /**
     * Display the pause overlay, with instructions and controls.
     * @param screenWidth - how many pixels wide the screen is.
     * @param screenHeight - how many pixels high the screen is.
     * @param positiveEventCounter - Number of PowerUps collected.
     * @param negativeEventCounter - Number of times caught by the dean.
     * @param hiddenEventCounter - Number of secrets found.
     */
    public void renderPauseOverlay(int screenWidth, int screenHeight, int positiveEventCounter, int negativeEventCounter, int hiddenEventCounter) {
<span class="nc" id="L222">        uiBatch.begin();</span>
<span class="nc" id="L223">        uiBatch.setColor(0, 0, 0, 0.5f);</span>
<span class="nc" id="L224">        uiBatch.draw(missingTexture, 0, 0, screenWidth, screenHeight);</span>
<span class="nc" id="L225">        uiBatch.setColor(1, 1, 1, 1);</span>

<span class="nc" id="L227">        font.getData().setScale(2f);</span>
<span class="nc" id="L228">        font.draw(uiBatch, &quot;Escape from Uni&quot;, screenWidth / 2f, (screenHeight / 2f) + 40);</span>
<span class="nc" id="L229">        font.draw(uiBatch, &quot;Instructions&quot;, screenWidth / 2f, (screenHeight / 2f) - 120);</span>
<span class="nc" id="L230">        font.draw(uiBatch, &quot;Stats&quot;, screenWidth / 2f, (screenHeight / 2f) - 200);</span>
<span class="nc" id="L231">        font.getData().setScale(1f);</span>
<span class="nc" id="L232">        renderControls(screenWidth, screenHeight);</span>
<span class="nc" id="L233">        renderStats(screenWidth, screenHeight, positiveEventCounter, negativeEventCounter, hiddenEventCounter);</span>

<span class="nc" id="L235">        uiBatch.end();</span>
<span class="nc" id="L236">    }</span>

    /**
     * Display the start overlay, with instructions, controls and how to start the game.
     * @param screenWidth - how many pixels wide the screen is.
     * @param screenHeight - how many pixels high the screen is.
     */
    public void renderStartOverlay(int screenWidth, int screenHeight) {
<span class="nc" id="L244">        uiBatch.begin();</span>
<span class="nc" id="L245">        uiBatch.setColor(0, 0, 0, 0.5f);</span>
<span class="nc" id="L246">        uiBatch.draw(missingTexture, 0, 0, screenWidth, screenHeight);</span>
<span class="nc" id="L247">        uiBatch.setColor(1, 1, 1, 1);</span>

<span class="nc" id="L249">        font.getData().setScale(2f);</span>
<span class="nc" id="L250">        font.draw(uiBatch, &quot;Escape from Uni&quot;, screenWidth / 2f, (screenHeight / 2f) + 40);</span>
<span class="nc" id="L251">        font.draw(uiBatch, &quot;Instructions&quot;, screenWidth / 2f, (screenHeight / 2f) - 120);</span>

<span class="nc" id="L253">        font.setColor(0, 1, 1, 1);</span>
<span class="nc" id="L254">        font.draw(uiBatch, &quot;Enter name then&quot;, screenWidth / 2f, (screenHeight / 2f) - 190);</span>
<span class="nc" id="L255">        font.draw(uiBatch, &quot;Press Enter to Start!&quot;, screenWidth / 2f, (screenHeight / 2f) - 220);</span>
<span class="nc" id="L256">        font.setColor(1, 1, 1, 1);</span>

<span class="nc" id="L258">        font.getData().setScale(1f);</span>
<span class="nc" id="L259">        renderControls(screenWidth, screenHeight);</span>
<span class="nc" id="L260">        font.draw(uiBatch, &quot;Avoid the dean and escape the maze in time!&quot;, screenWidth / 2f, (screenHeight / 2f) - 160);</span>


<span class="nc" id="L263">        uiBatch.end();</span>
<span class="nc" id="L264">    }</span>

    /**
     * Render the controls list, tellign you all the buttons and what they do.
     * @param screenWidth - how many pixels wide the screen is.
     * @param screenHeight - how many pixels high the screen is.
     */
    private void renderControls(int screenWidth, int screenHeight) {
<span class="nc" id="L272">        font.draw(uiBatch, &quot;Press P to pause / resume!&quot;, screenWidth / 2f, screenHeight / 2f);</span>
<span class="nc" id="L273">        font.draw(uiBatch, &quot;Press ESC to quit.&quot;, screenWidth / 2f, (screenHeight / 2f) - 20);</span>
<span class="nc" id="L274">        font.draw(uiBatch, &quot;Press E to interact.&quot;, screenWidth / 2f, (screenHeight / 2f) - 40);</span>
<span class="nc" id="L275">        font.draw(uiBatch, &quot;Use WASD or arrow keys to move.&quot;, screenWidth / 2f, (screenHeight / 2f) - 60);</span>
<span class="nc" id="L276">        font.draw(uiBatch, &quot;Press P to pause!&quot;, screenWidth / 2f, screenHeight / 2f);</span>
<span class="nc" id="L277">        font.draw(uiBatch, &quot;Press F11 to Fullscreen.&quot;, screenWidth / 2f, (screenHeight / 2f) - 80);</span>
<span class="nc" id="L278">    }</span>

    /**
     * Render the Stats at the bottom of the overlay, showing PowerUps collected, times caught and secrets found.
     * @param screenWidth - how many pixels wide the screen is.
     * @param screenHeight - how many pixels high the screen is.
     * @param positiveEventCounter - Number of PowerUps collected.
     * @param negativeEventCounter - Number of times caught by the dean.
     * @param hiddenEventCounter - Number of secrets found.
     */
    private void renderStats(int screenWidth, int screenHeight, int positiveEventCounter, int negativeEventCounter, int hiddenEventCounter) {
<span class="nc" id="L289">        font.draw(uiBatch, &quot;PowerUps Collected: &quot; + positiveEventCounter, screenWidth / 2f, (screenHeight / 2f) - 240);</span>
<span class="nc" id="L290">        font.draw(uiBatch, &quot;Dean Captures: &quot; + negativeEventCounter, screenWidth / 2f, (screenHeight / 2f) - 260);</span>
<span class="nc" id="L291">        font.draw(uiBatch, &quot;Secrets Found: &quot; + hiddenEventCounter, screenWidth / 2f, (screenHeight / 2f) - 280);</span>
<span class="nc" id="L292">    }</span>

    /**
     * Display the win overlay, with your score and how much time was left.
     * @param screenWidth - How many pixels wide the screen is.
     * @param screenHeight - How many pixels high the screen is.
     * @param timeLeft - How much time was left when the player escaped.
     * @param score - the score the player managed to get.
     * @param positiveEventCounter - Number of PowerUps collected.
     * @param negativeEventCounter - Number of times caught by the dean.
     * @param hiddenEventCounter - Number of secrets found.
     */
    public void renderWinOverlay(int screenWidth, int screenHeight, float timeLeft, int score, int positiveEventCounter, int negativeEventCounter, int hiddenEventCounter) {
<span class="nc" id="L305">        uiBatch.begin();</span>
<span class="nc" id="L306">        uiBatch.setColor(0, 0, 0, 0.5f);</span>
<span class="nc" id="L307">        uiBatch.draw(missingTexture, 0, 0, screenWidth, screenHeight);</span>
<span class="nc" id="L308">        uiBatch.setColor(1, 1, 1, 1);</span>

<span class="nc" id="L310">        font.getData().setScale(2f);</span>
<span class="nc" id="L311">        font.draw(uiBatch, &quot;Stats&quot;, screenWidth / 2f, (screenHeight / 2f) - 200);</span>
<span class="nc" id="L312">        font.setColor(0, 1, 1, 1);</span>
<span class="nc" id="L313">        font.draw(uiBatch, &quot;YOU WIN!&quot;, screenWidth / 2f, (screenHeight / 2f) + 40);</span>
<span class="nc" id="L314">        font.setColor(0, 1, 1, 1);</span>
<span class="nc" id="L315">        font.draw(uiBatch, &quot;Leaderboard&quot;, screenWidth / 5f, (screenHeight / 2f) + 200);</span>
<span class="nc" id="L316">        font.setColor(1, 1, 1, 1);</span>

<span class="nc" id="L318">        List&lt;String&gt; currentLeaders = LeaderboardSystem.getLeaderboardContents();</span>
<span class="nc" id="L319">        int count = Math.min(5, currentLeaders.size());</span>
<span class="nc bnc" id="L320" title="All 2 branches missed.">        for (int i = 0; i &lt; count; i++) {</span>
<span class="nc bnc" id="L321" title="All 2 branches missed.">            if (currentLeaders.get(i).contains(&quot;null&quot;)) {</span>
<span class="nc" id="L322">                break;</span>
            }
<span class="nc" id="L324">            font.draw(uiBatch, currentLeaders.get(i), screenWidth / 5f, (screenHeight / 2f) + 160 - (i * 30));</span>
        }
 
<span class="nc" id="L327">        font.getData().setScale(1f);</span>
<span class="nc" id="L328">        font.draw(uiBatch, timerSystem.getClockDisplay(), screenWidth / 2f, screenHeight / 2f);</span>
<span class="nc" id="L329">        font.draw(uiBatch, &quot;Score: &quot; + Integer.toString(score), screenWidth / 2f, (screenHeight / 2f) - 20);</span>
<span class="nc" id="L330">        font.draw(uiBatch, &quot;Press ESC to quit.&quot;, screenWidth / 2f, (screenHeight / 2f) - 40);</span>
<span class="nc" id="L331">        renderStats(screenWidth, screenHeight, positiveEventCounter, negativeEventCounter, hiddenEventCounter);</span>
<span class="nc" id="L332">        uiBatch.end();</span>
<span class="nc" id="L333">    }</span>

    /**
     * Display the lose overlay, for when you run out of time.
     * @param screenWidth - How many pixels wide the screen is.
     * @param screenHeight - How many pixels high the screen is.
     * @param positiveEventCounter - Number of PowerUps collected.
     * @param negativeEventCounter - Number of times caught by the dean.
     * @param hiddenEventCounter - Number of secrets found.
     */
    public void renderLoseOverlay(int screenWidth, int screenHeight, int positiveEventCounter, int negativeEventCounter, int hiddenEventCounter) {
<span class="nc" id="L344">        uiBatch.begin();</span>
<span class="nc" id="L345">        uiBatch.setColor(0, 0, 0, 0.5f);</span>
<span class="nc" id="L346">        uiBatch.draw(missingTexture, 0, 0, screenWidth, screenHeight);</span>
<span class="nc" id="L347">        uiBatch.setColor(1, 1, 1, 1);</span>

<span class="nc" id="L349">        font.getData().setScale(2f);</span>
<span class="nc" id="L350">        font.draw(uiBatch, &quot;Stats&quot;, screenWidth / 2f, (screenHeight / 2f) - 200);</span>
<span class="nc" id="L351">        font.setColor(1, 0, 0, 1);</span>
<span class="nc" id="L352">        font.draw(uiBatch, &quot;TIME IS UP!&quot;, screenWidth / 2f, (screenHeight / 2f) + 40);</span>
<span class="nc" id="L353">        font.setColor(1, 1, 1, 1);</span>
<span class="nc" id="L354">        font.getData().setScale(1f);</span>
<span class="nc" id="L355">        font.draw(uiBatch, &quot;Better luck next time.&quot;, screenWidth / 2f, screenHeight / 2f);</span>
<span class="nc" id="L356">        font.draw(uiBatch, &quot;Press ESC to quit.&quot;, screenWidth / 2f, (screenHeight / 2f) - 40);</span>
<span class="nc" id="L357">        renderStats(screenWidth, screenHeight, positiveEventCounter, negativeEventCounter, hiddenEventCounter);</span>
<span class="nc" id="L358">        uiBatch.end();</span>
<span class="nc" id="L359">    }</span>

    /**
     * renders an input text box that the player can type into
     * @param inputSystem input system class which contains input handling methods such as keyTyped
     * @param player the player instance that the name will be attached to
     */
    public void renderInputBox(InputSystem inputSystem, Player player) {
<span class="nc" id="L367">        uiBatch.begin();</span>

<span class="nc" id="L369">        uiBatch.setColor(0, 0, 0, 0.75f);</span>
<span class="nc" id="L370">        uiBatch.draw(missingTexture, 50f, 183f, 267f, 67f);</span>

<span class="nc" id="L372">        uiBatch.setColor(1, 1, 1, 1f);</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">        if (inputSystem.getInput().isEmpty()) {</span>
<span class="nc" id="L374">            font.setColor(0.5f, 0.5f, 0.5f, 1f);</span>
            //text to show where to type, dissapears once you start typing
<span class="nc" id="L376">            font.draw(uiBatch, &quot;just start typing!&quot;, 58f, 240f);</span>
<span class="nc" id="L377">            font.setColor(1, 1, 1, 1f);</span>
        } else {
            //added a cute lil blinking cursor to show you're typing
<span class="nc bnc" id="L380" title="All 2 branches missed.">            boolean showCursor = (System.currentTimeMillis() / 500) % 2 == 0;</span>
<span class="nc bnc" id="L381" title="All 2 branches missed.">            String cursor = showCursor ? &quot;|&quot; : &quot;&quot;;</span>
<span class="nc" id="L382">            font.draw(uiBatch, inputSystem.getInput() + cursor, 58f, 240f);</span>
        }

<span class="nc" id="L385">        uiBatch.end();</span>
<span class="nc" id="L386">    }</span>

    public void setToastSystem(ToastSystem toastSystem) {
<span class="nc" id="L389">        this.toastSystem = toastSystem;</span>
<span class="nc" id="L390">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>